<!DOCTYPE html>
<!--
  Accountant Dashboard - ‡¶π‡¶ø‡¶∏‡¶æ‡¶¨‡¶∞‡¶ï‡ßç‡¶∑‡¶ï‡¶¶‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø UI
  ‡¶ü‡ßã‡¶ï‡ßá‡¶®/‡¶∞‡ßã‡¶≤ ‡¶Ø‡¶æ‡¶ö‡¶æ‡¶á ‡¶ï‡¶∞‡¶≤‡ßá ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡ßç‡¶∏‡ßá‡¶∏ ‡¶™‡¶æ‡¶¨‡ßá‡•§
-->
<html lang="bn">
<head>
  <meta charset="UTF-8">
  <title>Accountant Dashboard - PSSS B.M DEGREE COLLEGE</title>
  <link rel="stylesheet" href="../css/dashboard.css">
</head>
<body>
  <div class="header">
    <h1>PSSS B.M DEGREE COLLEGE</h1>
    <p>üí∞ ‡¶π‡¶ø‡¶∏‡¶æ‡¶¨‡¶∞‡¶ï‡ßç‡¶∑‡¶ï ‡¶°‡ßç‡¶Ø‡¶æ‡¶∂‡¶¨‡ßã‡¶∞‡ßç‡¶°</p>
  </div>
  <div class="sidebar">
    <ul>
        <li><a href="#">‡¶´‡¶ø ‡¶ï‡¶æ‡¶≤‡ßá‡¶ï‡¶∂‡¶®</a></li>
        <li><a href="#">‡¶¨‡ßá‡¶§‡¶® ‡¶∞‡¶ø‡¶™‡ßã‡¶∞‡ßç‡¶ü</a></li>
    </ul>
  </div>
  <div class="main">
    <h2>‡¶∏‡ßç‡¶¨‡¶æ‡¶ó‡¶§‡¶Æ ‡¶π‡¶ø‡¶∏‡¶æ‡¶¨‡¶∞‡¶ï‡ßç‡¶∑‡¶ï!</h2>
    <button class="logout-btn" onclick="logout()">üö™ ‡¶≤‡¶ó‡¶Ü‡¶â‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®</button>
  </div>
  <script>
    // Page init: validate session by asking backend (/api/auth/me)
    async function checkAuth() {
      try {
        const res = await fetch('http://localhost:5000/api/auth/me', { credentials: 'include' });
        if (!res.ok) throw new Error('not-authenticated');
        const data = await res.json();
        if (!data.user || data.user.role !== 'accountant') throw new Error('invalid-role');
        // all good
      } catch (err) {
        alert('‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®');
        window.location.href = '/index.html';
      }
    }

    checkAuth();

    function getCookie(name) {
      const v = document.cookie.match('(^|;)\\s*' + name + '\\s*=\\s*([^;]+)');
      return v ? v.pop() : '';
    }

    async function logout() {
      const csrf = getCookie('csrfToken');
      try {
        await fetch('http://localhost:5000/api/auth/logout', {
          method: 'POST',
          credentials: 'include',
          headers: { 'X-CSRF-Token': csrf }
        });
      } catch (e) {
        // ignore
      }
  // ...existing code...
      window.location.href = '/index.html';
    }
  </script>
</body>
</html>
<!-- üìÅ frontend/dashboard/super-admin.html -->