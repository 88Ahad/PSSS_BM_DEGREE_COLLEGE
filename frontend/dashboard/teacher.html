<!DOCTYPE html>
<!--
  Teacher Dashboard - ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶ï‡¶¶‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø UI
  ‡¶™‡ßá‡¶ú‡¶ü‡¶ø ‡¶ü‡ßã‡¶ï‡ßá‡¶®/‡¶∞‡ßã‡¶≤ ‡¶Ø‡¶æ‡¶ö‡¶æ‡¶á ‡¶ï‡¶∞‡ßá ‡¶≤‡ßã‡¶° ‡¶π‡ßü; ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶æ‡¶∞-‡¶∏‡¶æ‡¶á‡¶° ‡¶ö‡ßá‡¶ï ‡¶∞‡¶æ‡¶ñ‡¶§‡ßá ‡¶π‡¶¨‡ßá‡•§
-->
<html lang="bn">
<head>
  <meta charset="UTF-8">
  <title>Teacher Dashboard - PSSS B.M DEGREE COLLEGE</title>
  <link rel="stylesheet" href="../css/dashboard.css">
</head>
<body>

  <!-- ‚úÖ Header -->
  <div class="header">
    <h1>PSSS B.M DEGREE COLLEGE</h1>
    <p>üë®‚Äçüè´ ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶ï ‡¶°‡ßç‡¶Ø‡¶æ‡¶∂‡¶¨‡ßã‡¶∞‡ßç‡¶°</p>
  </div>

  <!-- ‚úÖ Sidebar -->
  <div class="sidebar">
    <ul>
      <li><a href="#">‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤</a></li>
      <li><a href="#">‡¶ï‡ßç‡¶≤‡¶æ‡¶∏ ‡¶∞‡ßÅ‡¶ü‡¶ø‡¶®</a></li>
      <li><a href="#">‡¶∞‡¶ø‡¶™‡ßã‡¶∞‡ßç‡¶ü</a></li>
      <li><a href="#">‡¶®‡ßã‡¶ü‡¶ø‡¶∂</a></li>
    </ul>
  </div>

  <!-- ‚úÖ Main Content -->
  <div class="main">
    <h2>‡¶∏‡ßç‡¶¨‡¶æ‡¶ó‡¶§‡¶Æ ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶ï!</h2>
    <p>‡¶Ü‡¶™‡¶®‡¶ø ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡ßá‡¶õ‡ßá‡¶®‡•§</p>
    <button class="logout-btn" onclick="logout()">üö™ ‡¶≤‡¶ó‡¶Ü‡¶â‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®</button>
  </div>

  <!-- ‚úÖ Token Verification -->
  <script>
    async function checkAuth() {
      try {
        const res = await fetch('http://localhost:5000/api/auth/me', { credentials: 'include' });
        if (!res.ok) throw new Error('not-authenticated');
        const data = await res.json();
        if (!data.user || data.user.role !== 'teacher') throw new Error('invalid-role');
      } catch (err) {
        alert('‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®');
        window.location.href = '/index.html';
      }
    }
    checkAuth();

    function getCookie(name) {
      const v = document.cookie.match('(^|;)\\s*' + name + '\\s*=\\s*([^;]+)');
      return v ? v.pop() : '';
    }

    async function logout() {
      const csrf = getCookie('csrfToken');
      try { await fetch('http://localhost:5000/api/auth/logout', { method: 'POST', credentials: 'include', headers: { 'X-CSRF-Token': csrf } }); } catch (e) {}
  // ...existing code...
      window.location.href = '/index.html';
    }
  </script>
</body>
</html>
<!-- üìÅ frontend/dashboard/teacher.html -->
